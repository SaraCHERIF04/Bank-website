<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./global_.css" />
    <link rel="stylesheet" href="./loan.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"
    />
    
  </head>
  <body>
    <form class="loan">
      <div class="loan-child"></div>
      <div class="loan-item"></div>
      <div class="content">
        <div class="header5">
          <div class="header-child5"></div>
          <div class="header-content">
            <div class="bank-name2">
              <img
                class="banque-de-lagriculture-et-du-icon6"
                loading="lazy"
                alt=""
                src="./public/banque-de-lagriculture-et-du-dveloppement-ruralsvg-11@2x.png"
              />
  
              <div class="badr-bank-container">
                <a class="badr-bank7">Badr Bank</a>
              </div>
            </div>
          </div>
          <header class="loan-header">
            <div class="loan-title">
              <a class="loans7">Loans</a>
            </div>
            <div class="loan-search">
              <div class="search-bar1">
                <button class="rectangle-parent75">
                  <div class="frame-child116"></div>
                  <img
                    class="magnifying-glass-1-icon6"
                    alt=""
                    src="./public/magnifyingglass-12.svg"
                  />
  
                  <div class="search-placeholder2">
                    <a class="search-for-something6">Search for something</a>
                  </div>
                </button>
              </div>
              <div class="search-icons">
                <img
                  class="search-icons-child"
                  loading="lazy"
                  alt=""
                  src="./public/group-42.svg"
                />
              </div>
              <div class="search-icons1">
                <img
                  class="search-icons-item"
                  loading="lazy"
                  alt=""
                  src="./public/group-33.svg"
                />
              </div>
              <img
                class="mask-group-icon9"
                loading="lazy"
                alt=""
                src="./public/mask-group2@2x.png"
              />
            </div>
          </header>
  
      </div>
      <div class="content2">
        <div class="content-child"></div>
        
        <div class="side-panel">
          <div class="loan-options-parent">
            <div class="loan-options">
              <img
                class="home-2-icon6"
                loading="lazy"
                alt=""
                src="./public/home-2.svg"
              />

              <img
                class="transfer-1-icon6"
                loading="lazy"
                alt=""
                src="./public/transfer-1.svg"
              />

              <img
                class="user-3-16"
                loading="lazy"
                alt=""
                src="./public/user-3-11.svg"
              />

              <img
                class="economic-investment-1-icon6"
                loading="lazy"
                alt=""
                src="./public/economicinvestment-1.svg"
              />

              <img
                class="credit-card-1-icon9"
                loading="lazy"
                alt=""
                src="./public/creditcard-1.svg"
              />

              <div class="option-labels">
                <img
                  class="loan-1-icon6"
                  loading="lazy"
                  alt=""
                  src="./public/loan-11.svg"
                />
              </div>
              <div class="option-labels1">
                <img
                  class="service-1-icon6"
                  loading="lazy"
                  alt=""
                  src="./public/service-1.svg"
                />
              </div>
              
              <div class="option-labels3">
                <img
                  class="settings-solid-16"
                  loading="lazy"
                  alt=""
                  src="./public/settings-solid-1.svg"
                />
              </div>
            </div>
            <div class="dashboard7">
              <div class="dashboard-items">
                <a href="file:///C:/Users/dell/Desktop/bank-sys-test-main/templates/main-dashboard.html" class="dashboard8">Dashboard</a>
                <div class="transactions20">
                 <a href="file:///C:/Users/dell/Desktop/bank-sys-test-main/templates/transaction.html"  class="dashboard8">Transactions </a> 
                </div>
                <a href="file:///C:/Users/dell/Desktop/bank-sys-test-main/templates/index.html" class="accounts8">Accounts</a>
                <div class="investments8">
                 <a href="file:///C:/Users/dell/Desktop/bank-sys-test-main/templates/investments.html"  class="dashboard8"> Investments </a>
                </div>
                <div class="credit-cards8">
                 <a href="file:///C:/Users/dell/Desktop/bank-sys-test-main/templates/credit-cards.html" class="dashboard8"> Credit Cards </a>
                </div>
                <div class="loans6">
                  <a >Loans </a>

                  </div>
                <a href="file:///C:/Users/dell/Desktop/bank-sys-test-main/templates/services.html" class="services8">Services</a>
                
                <a href="file:///C:/Users/dell/Desktop/bank-sys-test-main/templates/setting-page-1.html" class="setting6">Setting</a>
              </div>
            </div>
          </div>
        </div>
        <div class="content-divider"></div>
      </div>
      
      <main class="loan-types">
        <section class="loan-type-options">
          <div class="loan-type-options-child"></div>
          <div class="loan-buttons">
            <div class="rectangle-parent76">
              <div class="frame-child117"></div>
              <img
                class="frame-child118"
                loading="lazy"
                alt=""
                src="./public/group-299.svg"
              />

              <div class="loan-type-names">
                <div class="loan-name-labels">
                  <div class="personal-loans">Personal Loans</div>
                  <div id ='Personal_Loans'class="loan-type-icons" ></div>
                </div>
              </div>
            </div>
            <div class="rectangle-parent77">
              <div class="frame-child119"></div>
              <img class="frame-child120" alt="" src="./public/group-290.svg" />

              <div class="frame-wrapper53">
                <div class="corporate-loans-parent">
                  <div class="corporate-loans">Corporate Loans</div>
                  <div id='Corporate_Loans' class="div44"></div>
                </div>
              </div>
            </div>
            <div class="rectangle-parent78">
              <div class="frame-child121"></div>
              <img class="frame-child122" alt="" src="./public/group-293.svg" />

              <div class="frame-wrapper54">
                <div class="business-loans-container">
                  <div class="business-loans2">Business Loans</div>
                  <div id='Business_Loans' class="div45"></div>
                </div>
              </div>
            </div>
            <div class="rectangle-parent79">
              <div class="frame-child123"></div>
              <img
                class="frame-child124"
                loading="lazy"
                alt=""
                src="./public/group-296.svg"
              />

              <div class="frame-wrapper55">
                <div class="custom-loans-parent">
                  <div class="custom-loans">Custom Loans</div>
                  <div id='Custom_Loans' class="choose-money"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="loan-overview">
            <h3 class="active-loans-overview">Active Loans Overview</h3>
            <div class="rectangle-parent80">
              <div class="frame-child125"></div>
              <div class="loan-table">
                <div class="sl-no1">SL No</div>
                <div class="table-header">
                  <div class="loan-money">Loan Money</div>
                </div>
                <div class="table-header1">
                  <div class="left-to-repay">Left to repay</div>
                </div>
                <div class="table-header2">
                  <div class="duration">Duration</div>
                </div>
                <div class="interest-rate">Interest rate</div>
                <div class="table-header3">
                  <div class="installment">Installment</div>
                </div>
                <div class="repay">Repay</div>
              </div>
              <div class="chart-elements">
                <div class="chart-bars6"></div>
              </div>
              <div class="chart-elements1">
                <div class="month-labels-top">
                  <div class="bar-values">01.</div>
                </div>
                <div class="month-labels-top1">
                  <div class="month-values-top">$100,000</div>
                </div>
                <div class="month-labels-bottom">
                  <div class="month-values-bottom">$40,500</div>
                </div>
                <div class="chart-label">
                  <div class="months5">8 Months</div>
                </div>
                <div class="month-spacing">
                  <div class="spacing-values">12%</div>
                </div>
                <div class="month-name">
                  <div class="month">$2,000 / month</div>
                </div>
                <button class="repay-parent">
                  <div class="repay1">Repay</div>
                  <div class="frame-child126"></div>
                </button>
              </div>
              <div class="chart-elements2">
                <div class="chart-elements-child"></div>
              </div>
              <div class="chart-elements3">
                <div class="wrapper13">
                  <div class="div46">02.</div>
                </div>
                <div class="wrapper14">
                  <div class="div47">$500,000</div>
                </div>
                <div class="wrapper15">
                  <div class="div48">$250,000</div>
                </div>
                <div class="months-wrapper">
                  <div class="months6">36 Months</div>
                </div>
                <div class="wrapper16">
                  <div class="div49">10%</div>
                </div>
                <div class="month-wrapper">
                  <div class="month1">$8,000 / month</div>
                </div>
                <button class="repay-group">
                  <div class="repay2">Repay</div>
                  <div class="frame-child127"></div>
                </button>
              </div>
              <div class="chart-elements4">
                <div class="chart-elements-item"></div>
              </div>
              <div class="chart-elements5">
                <div class="wrapper17">
                  <div class="div50">03.</div>
                </div>
                <div class="wrapper18">
                  <div class="div51">$900,000</div>
                </div>
                <div class="wrapper19">
                  <div class="div52">$40,500</div>
                </div>
                <div class="months-container">
                  <div class="months7">12 Months</div>
                </div>
                <div class="wrapper20">
                  <div class="div53">12%</div>
                </div>
                <div class="month-container">
                  <div class="month2">$5,000 / month</div>
                </div>
                <button class="repay-container">
                  <div class="repay3">Repay</div>
                  <div class="frame-child128"></div>
                </button>
              </div>
              <div class="chart-elements6">
                <div class="chart-elements-inner"></div>
              </div>
              <div class="chart-elements7">
                <div class="wrapper21">
                  <div class="div54">04.</div>
                </div>
                <div class="wrapper22">
                  <div class="div55">$50,000</div>
                </div>
                <div class="wrapper23">
                  <div class="div56">$40,500</div>
                </div>
                <div class="months-frame">
                  <div class="months8">25 Months</div>
                </div>
                <div class="wrapper24">
                  <div class="div57">5%</div>
                </div>
                <div class="month-frame">
                  <div class="month3">$2,000 / month</div>
                </div>
                <button class="repay-parent1">
                  <div class="repay4">Repay</div>
                  <div class="frame-child129"></div>
                </button>
              </div>
              <div class="chart-elements8">
                <div class="chart-elements-child1"></div>
              </div>
              <div class="chart-elements9">
                <div class="wrapper25">
                  <div class="div58">05.</div>
                </div>
                <div class="wrapper26">
                  <div class="div59">$50,000</div>
                </div>
                <div class="wrapper27">
                  <div class="div60">$40,500</div>
                </div>
                <div class="months-wrapper1">
                  <div class="months9">5 Months</div>
                </div>
                <div class="wrapper28">
                  <div class="div61">16%</div>
                </div>
                <div class="month-wrapper1">
                  <div class="month4">$10,000 / month</div>
                </div>
                <button class="repay-parent2">
                  <div class="repay5">Repay</div>
                  <div class="frame-child130"></div>
                </button>
              </div>
              <div class="chart-elements10">
                <div class="chart-elements-child2"></div>
              </div>
              <div class="chart-elements11">
                <div class="wrapper29">
                  <div class="div62">06.</div>
                </div>
                <div class="wrapper30">
                  <div class="div63">$80,000</div>
                </div>
                <div class="wrapper31">
                  <div class="div64">$25,500</div>
                </div>
                <div class="months-wrapper2">
                  <div class="months10">14 Months</div>
                </div>
                <div class="wrapper32">
                  <div class="div65">8%</div>
                </div>
                <div class="month-wrapper2">
                  <div class="month5">$2,000 / month</div>
                </div>
                <button class="repay-parent3">
                  <div class="repay6">Repay</div>
                  <div class="frame-child131"></div>
                </button>
              </div>
              <div class="chart-elements12">
                <div class="chart-elements-child3"></div>
              </div>
              <div class="chart-elements13">
                <div class="wrapper33">
                  <div class="div66">07.</div>
                </div>
                <div class="wrapper34">
                  <div class="div67">$12,000</div>
                </div>
                <div class="wrapper35">
                  <div class="div68">$5,500</div>
                </div>
                <div class="months-wrapper3">
                  <div class="months11">9 Months</div>
                </div>
                <div class="wrapper36">
                  <div class="div69">13%</div>
                </div>
                <div class="month-wrapper3">
                  <div class="month6">$500 / month</div>
                </div>
                <button class="repay-parent4">
                  <div class="repay7">Repay</div>
                  <div class="frame-child132"></div>
                </button>
              </div>
              <div class="chart-elements14">
                <div class="chart-elements-child4"></div>
              </div>
              <div class="chart-elements15">
                <div class="wrapper37">
                  <div class="div70">08.</div>
                </div>
                <div class="wrapper38">
                  <div class="div71">$160,000</div>
                </div>
                <div class="wrapper39">
                  <div class="div72">$100,800</div>
                </div>
                <div class="months-wrapper4">
                  <div class="months12">3 Months</div>
                </div>
                <div class="wrapper40">
                  <div class="div73">12%</div>
                </div>
                <div class="month-wrapper4">
                  <div class="month7">$900 / month</div>
                </div>
                <button class="repay-parent5">
                  <div class="repay8">Repay</div>
                  <div class="frame-child133"></div>
                </button>
              </div>
              <div class="table-divider"></div>
              <div class="loan-total">
                <div class="total-label">
                  <div class="total">Total</div>
                  <div class="total-value">
                    <div class="div74">$125,0000</div>
                  </div>
                  <div class="div75">$750,000</div>
                </div>
                <div class="month8">$50,000 / month</div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </form>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    async function fetchAccountData() {
        try {
            const response = await fetch('http://127.0.0.1:5001/get_loans_data');
            const data = await response.json();
            
            console.log('Fetched Data:', data);

            updateAccountData(data);

        } catch (error) {
            console.error('Error fetching account data:', error);
        }
    }

    function updateAccountData(data) {
        console.log('Updating Data:', data);

        const { Personal_Loans, Corporate_Loans, Business_Loans, Custom_Loans } = data;

        // Correct IDs to match those in the HTML
        const personalLoansElement = document.getElementById('Personal_Loans');
        const corporateLoansElement = document.getElementById('Corporate_Loans');
        const businessLoansElement = document.getElementById('Business_Loans');
        const customLoansElement = document.getElementById('Custom_Loans');

        if (personalLoansElement && corporateLoansElement && businessLoansElement && customLoansElement) {
            personalLoansElement.textContent = formatCurrency(Personal_Loans);
            corporateLoansElement.textContent = formatCurrency(Corporate_Loans);
            businessLoansElement.textContent = formatCurrency(Business_Loans);
            customLoansElement.textContent = formatCurrency(Custom_Loans);
        } else {
            console.error('One or more elements not found');
        }
    }

    function formatCurrency(value) {
        // Ensure value is a number
        return `${Number(value).toLocaleString()} DA`;
    }

    fetchAccountData();
});

        </script>
  </body>
</html>